# Content Operations Tools

This document outlines all tools available in the content-ops-starter project, including both custom command-line tools and built-in AI assistant tools.

## I. Custom Command-Line Tools

These tools are implemented as Node.js scripts in the `scripts/` directory and can be run using npm commands defined in `package.json`.

### Setup

#### Prerequisites

- Node.js (version 14.0.0 or higher)
- NPM (version 6.0.0 or higher)

#### Installation

All dependencies are installed when you run `npm install` in the project root directory.

### Available Command-Line Tools

#### 1. generate-page

Creates HTML-TSX file pairs from a content brief.

**Usage:**

```bash
npm run generate-page <pageName> -- [options]
```

**Options:**

- `-t, --title <title>` - Page title (default: "New Page")
- `-d, --description <description>` - Page description
- `-c, --content <content>` - Main content
- `--component-id <id>` - Component ID for linking HTML and TSX

**Example:**

```bash
npm run generate-page my-page -- --title "My New Page" --description "A page about something interesting" --content "This is the main content."
```

#### 2. validate-pairing

Checks for mismatches between HTML placeholders and TSX props.

**Usage:**

```bash
npm run validate-pairing -- [options]
```

**Options:**

- `-s, --single <pageName>` - Validate a single page
- `-a, --all` - Validate all paired files

**Example:**

```bash
npm run validate-pairing -- --single my-page
```

#### 3. optimize-performance

Analyzes and optimizes performance of HTML-TSX pairs.

**Usage:**

```bash
npm run optimize-performance -- [options]
```

**Options:**

- `-p, --page <pageName>` - Optimize a specific page
- `-a, --all` - Optimize all pages
- `--analyze-bundle` - Analyze bundle size
- `--optimize-images` - Optimize images
- `--lazy-load` - Add lazy loading to images and below-the-fold content
- `--add-preload` - Add preload hints for critical resources
- `-v, --verbose` - Verbose output

**Example:**

```bash
npm run optimize-performance -- -p my-page --lazy-load --add-preload
```

#### 4. generate-test

Creates automated test scaffolding for HTML-TSX pairs.

**Usage:**

```bash
npm run generate-test -- [options]
```

**Options:**

- `-p, --page <pageName>` - Page to generate tests for
- `-t, --type <testType>` - Type of test to generate (unit, component, e2e) (default: "component")
- `-f, --framework <framework>` - Test framework to use (jest, cypress) (default: "jest")
- `-o, --output <outputDir>` - Directory to output test files (default: "**tests**")

**Example:**

```bash
npm run generate-test -- -p my-page -t component -f jest
```

#### 5. enhance-interaction

Adds client-side features to HTML-TSX pairs.

**Usage:**

```bash
npm run enhance-interaction -- [options]
```

**Options:**

- `-p, --page <pageName>` - Page to enhance
- `-t, --type <enhancementType>` - Type of enhancement to add (toggle, animation, chart, filter) (default: "toggle")
- `-e, --element <selector>` - CSS selector for the element to enhance
- `-l, --library <library>` - Library to use (react, alpine, vanilla) (default: "react")

**Example:**

```bash
npm run enhance-interaction -- -p my-page -t toggle -e "#my-element" -l alpine
```

#### 6. deploy-preview

Configures Netlify deployment preview settings.

**Usage:**

```bash
npm run deploy-preview -- [options]
```

**Options:**

- `-f, --forms` - Add Netlify Forms configuration
- `-e, --edge-functions` - Add Edge Functions configuration
- `-r, --redirects <file>` - Path to redirects file
- `-H, --headers <file>` - Path to headers file
- `-b, --branch <branch>` - Deploy preview for specific branch (default: "preview")

**Example:**

```bash
npm run deploy-preview -- -f -e -b "staging"
```

#### 7. fix-md-errors

Fixes common markdown formatting errors in content files.

**Usage:**

```bash
npm run fix-md
```

#### 8. think-tool

A utility that enhances AI agent reasoning by reflecting on a task before acting.

**Usage:**

```bash
node scripts/tools/test-think-tool.js
# or
node scripts/tools/index.js
```

**Features:**

- Takes a question or task as input and returns a strategic approach
- Analyzes the task to determine which tools would be most appropriate
- Helps break down complex problems into actionable steps
- Integrated with a tool registry for scalable tool management
- Includes monitoring and metrics for tool performance

**Example:**
Running the test script will process several example queries and show how the think-tool generates approaches.

### File Structure

The command-line tools operate on the following file structure:

- `public/*.html` - Static HTML files
- `components/*.tsx` - React/TSX components
- `__tests__/` - Test files generated by generate-test
- `netlify.toml` - Netlify configuration updated by deploy-preview
- `scripts/tools/` - Tool utilities including the think-tool implementation

### Development

To add new command-line tools or modify existing ones:

1. Create a new script in the `scripts/` directory
2. Make it executable: `chmod +x scripts/your-script.js`
3. Add an entry to the `scripts` section in `package.json`

All tools should follow the command-line interface pattern established by the existing tools, using the Commander.js library for parsing arguments and providing help information.

```javascript
#!/usr/bin/env node
const { program } = require('commander');
// Add your tool implementation
```

## II. Built-in AI Assistant Tools

These tools are available directly through the AI assistant interface in Cursor.

### Code Navigation and Search Tools

#### 1. codebase_search

Find snippets of code from the codebase most relevant to the search query.

**Usage:**

- Use for semantic code search when you need to find code related to specific concepts or functionalities
- More effective than grep for understanding concepts and code patterns

**Example:**
"Find code related to content generation in this project"

#### 2. grep_search

Fast text-based regex search that finds exact pattern matches within files or directories.

**Usage:**

- Use when you need to find exact text matches or regex patterns
- Best for finding specific strings, function names, or variables

**Example:**
"Find all instances of 'generatePage' in the codebase"

#### 3. file_search

Fast file search based on fuzzy matching against file path.

**Usage:**

- Use when you know part of a file name but aren't sure where it's located
- Helps quickly locate files without knowing their exact paths

**Example:**
"Find files related to testing in the project"

#### 4. list_dir

List the contents of a directory.

**Usage:**

- Quick way to explore a directory's structure
- Useful before diving deeper with more specific tools

**Example:**
"Show me what's in the scripts directory"

### File Operations Tools

#### 5. read_file

Read the contents of a file.

**Usage:**

- View file contents with line numbers
- Can read entire files or specific line ranges

**Example:**
"Show me the contents of package.json"

#### 6. edit_file

Propose and apply edits to existing files.

**Usage:**

- Make changes to existing files
- Supports context-aware edits that preserve unchanged code

**Example:**
"Update the readme to include the new tools"

#### 7. reapply

Call a smarter model to apply the last edit if the first attempt failed.

**Usage:**

- Use when an edit_file operation didn't correctly apply changes
- Helps resolve complex edits

**Example:**
"The previous edit didn't apply correctly, please reapply it"

#### 8. delete_file

Delete a file at the specified path.

**Usage:**

- Remove files that are no longer needed
- Clean up temporary or generated files

**Example:**
"Delete the temporary test file we created"

### Terminal and Command Tools

#### 9. run_terminal_cmd

Propose and run terminal commands on behalf of the user.

**Usage:**

- Execute shell commands
- Run build scripts, tests, or other command-line operations

**Example:**
"Run tests for the validate-pairing tool"

### Web Information Tools

#### 10. web_search

Search the web for real-time information.

**Usage:**

- Get up-to-date information that might not be in the codebase
- Research libraries, frameworks, or technologies

**Example:**
"Find information about the latest Netlify deployment features"

#### 11. think_tool

A utility that enhances AI agent reasoning by reflecting on a task before acting.

**Usage:**

- Use when facing complex, multi-step problems
- Helps determine the best approach to a task using available tools
- Particularly effective for sequential decision-making tasks
- Reduces trial and error by planning ahead

**Example:**
"What's the best approach to analyze customer sentiment data in this project?"

## Troubleshooting

### Command-Line Tools

If you encounter issues with any of the command-line tools:

1. Make sure the script is executable (`chmod +x scripts/script-name.js`)
2. Check that the paths to HTML and TSX files are correct
3. Verify that the script is correctly registered in `package.json`
4. Use the verbose flag (-v) if available to get more detailed output

### AI Assistant Tools

If you encounter issues with AI assistant tools:

1. Be specific in your requests and provide context
2. For file operations, make sure to specify the correct file path
3. For terminal commands, ensure you have proper permissions
4. If a tool doesn't work as expected, try rephrasing your request or using an alternative tool
